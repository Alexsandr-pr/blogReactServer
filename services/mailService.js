
const  nodemailer = require("nodemailer")
const path = require("path")

class MailService {

    constructor() {
        this.transporter = nodemailer.createTransport({
            host: process.env.SMTP_HOST,
            port:process.env.SMTP_PORT,
            secure: false,
            auth : {
                user: process.env.SMTP_USER,
                pass: process.env.SMTP_PASSWORD
            }
        })
    }
    async sendActivationMail(req, to, link) {
        await this.transporter.sendMail({
            from: process.env.SMTP_USER,
            to: to,
            subject: "Активация аккаунта на " + process.env.API_URL,
            text: "",
            html: `
                        <div style="margin: 0; height: 150px; font-family: Lexend; align-items:center; display: flex; color: #332724; background-color: #f2f2f2; width: 100%; border:1px solid #ddd; border-radius: 12px;">
                            <span style="margin-right: 20px; display: block;  border-radius: 12px 0px 0px 12px;">
                                <svg style="margin-left: 15px;" height="150" width="175" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 143 41" >
                                    <path fill="#FFE800" d="m134.963 12.38 1.193-1.63a2.894 2.894 0 0 0-4.044-4.048l-1.629 1.194a2.88 2.88 0 0 1-3.414 0l-1.629-1.194a2.89 2.89 0 0 0-3.753.292 2.91 2.91 0 0 0-.291 3.756l1.193 1.63a2.885 2.885 0 0 1 0 3.417l-1.193 1.63a2.895 2.895 0 0 0 4.044 4.049l1.629-1.194a2.88 2.88 0 0 1 3.414 0l1.629 1.194a2.89 2.89 0 0 0 3.753-.292  2.906 2.906 0 0 0 .291-3.756l-1.193-1.63a2.885 2.885 0 0 1 0-3.417"></path>
                                    <path fill="#089D3B" d="m133.072 6.528-.417-2.708A3.91 3.91 0 0 0  128.786.5a3.92 3.92 0 0 0-3.87 3.32l-.417 2.708a3.9 3.9 0 0 1-3.268  3.27l-2.705.418a3.914 3.914 0 0 0-3.317 3.873 3.92 3.92 0 0 0 3.317  3.873l2.705.417a3.9 3.9 0 0 1 3.268 3.271l.417 2.708a3.91 3.91 0 0 0 3.87 3.32 3.92 3.92  0 0 0 3.869-3.32l.417-2.708a3.9 3.9 0 0 1 3.268-3.27l2.706-.418a3.914 3.914 0 0 0 3.316-3.873 3.92 3.92 0 0  0-3.316-3.873L136.34 9.8a3.9 3.9 0 0 1-3.268-3.271"></path>
                                    <path fill="#332724" d="M79.415 32.492c-1.745 0-2.608-1.058-2.608-3.174V17.486h5.537a.99.99 0 0 0 .882-.563 18.2 18.2 0 0 1 4.151-5.571c.66-.612.252-1.709-.65-1.709h-9.92v-4.59a.977.977 0 0 0-.98-.981h-7.874a.977.977 0 0 0-.98.98v4.591h-5.372c-.863 0-1.31 1.039-.708 1.66a12 12 0 0 1 3.035 5.455.964.964 0 0 0 .94.728h2.105v13.395c0 3 .921 5.358 2.754 7.066 1.823 1.699 4.219 2.553 7.186 2.553q2.226 0 4.393-.524c.96-.233 2.725-1.01 4.141-1.69a.98.98 0 0 0 .31-1.523 18.7 18.7 0 0 1-2.686-4.212.963.963 0 0 0-1.202-.505c-.912.3-1.726.456-2.454.456z"></path>
                                    <path fill="#332724" d="M110.089 14.089c2.628 2.892 3.947 6.862 3.947 11.9v.825a.97.97 0 0 1-.98.951H93.099c.484 1.709 1.318 3.01 2.501 3.922 1.184.912 2.629 1.358 4.335 1.358 1.3 0 2.551-.262 3.753-.776q1.413-.611 2.638-1.66a.974.974 0 0 1 1.329.049l3.82 3.824a.985.985 0 0 1 0 1.398c-1.415 1.398-3.064 2.475-4.955 3.261-2.211.903-4.703 1.359-7.486 1.359-3.22 0-6.042-.63-8.447-1.893s-4.248-3.038-5.528-5.338q-1.92-3.45-1.92-8.008c0-3.077.65-5.795 1.94-8.144 1.3-2.349 3.132-4.173 5.498-5.445q3.551-1.922 8.224-1.922c4.887 0 8.65 1.446 11.278 4.339zm-5.664 7.92c0-1.737-.514-3.145-1.532-4.203s-2.366-1.582-4.024-1.582c-1.659 0-2.861.524-3.918 1.553-1.057 1.039-1.746 2.446-2.085 4.223h11.559zM31.79 22.912a.957.957 0 0 0-.96-.96h-7.476a.957.957 0 0 0-.96.96v7.63c-.796.193-1.62.31-2.473.31-5.935 0-10.707-4.999-10.338-11.027.32-5.25 4.645-9.483 9.901-9.696a10.46 10.46 0 0 1 4.81.951.965.965 0 0 0 1.077-.194l5.615-5.62a.968.968 0 0 0-.146-1.485A19.8 19.8 0 0 0 19.93.529C8.448.53-.764 10.245.05 21.912c.689 9.959 8.825 17.957 18.775 18.49a19.82 19.82 0 0 0 12.558-3.6.96.96 0 0 0 .398-.786V22.902zM59.254 12.449c-2.298-1.913-5.518-2.864-9.668-2.864-2.405 0-4.733.272-6.973.806-1.785.427-3.627 1.038-5.537 1.834a.98.98 0 0 0-.32 1.602l4.063 4.067c.262.262.65.35 1.008.233.417-.136.825-.262 1.242-.37q2.355-.61 4.247-.61 2.778 0 4.248 1.164 1.472 1.168 1.474 3.34v.33h-7.836q-5.556.057-8.524 2.445c-1.978 1.592-2.967 3.815-2.967 6.678q.002 4.222 2.754 6.814c1.823 1.718 4.325 2.582 7.515 2.582 4.035 0 7.06-1.281 9.058-3.834v2.854c0 .543.436.98.98.98h7.767c.543 0 .98-.437.98-.98V20.485c-.04-3.445-1.203-6.124-3.501-8.036zM53.028 30.2c-.145 1.175-.999 2.087-2.114 2.806s-2.405 1.087-3.889 1.087c-1.26 0-2.25-.31-2.967-.922s-1.086-1.437-1.086-2.475c0-2.078 1.386-3.116 4.17-3.116h5.886s.078 1.96 0 2.61z"></path>
                                </svg>
                            </span>
                            <div class="">
                                <h2 style="font-size: 22; ">Güneş Yağli</h2>
                                <p style="color: #83645c;">People & Culture Specialist</p>
                                <div style="display: flex; flex-wrap: wrap; font-size: 14;  padding-right: 5px;" >
                                    <a style="color: #000; text-decoration: none; font-weight: 400; margin-right: 20px;" href="tel:05309567591">05309567591</a>
                                    <span style="color: #83645c; font-weight: 300; margin-right: 20px;" >|</span>
                                    <a style="color: #000;  text-decoration: none; font-weight: 500; " href="www.gateplus.co">www.gateplus.co</a>
                                </div>
                            </div>
                        </div>
            `
        })
    }
}
module.exports = new MailService;